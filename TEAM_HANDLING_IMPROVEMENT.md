# üîß –ü–æ–¥–æ–±—Ä–µ–Ω–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞—Ç–∞ –Ω–∞ –Ω–µ–ø–æ–∑–Ω–∞—Ç–∏ –æ—Ç–±–æ—Ä–∏

## üö® –¢–µ–∫—É—â –ø—Ä–æ–±–ª–µ–º

PredictionService –∏–º–∞ —Å–µ—Ä–∏–æ–∑–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç —Ñ–∏–∫—Ç–∏–≤–Ω–∏ –¥–∞–Ω–Ω–∏:

### 1. –ó–∞—Ö–µ—à–∏—Ä–∞–Ω–∏ Team IDs
```python
# api/prediction_service.py:258-261
home_team_id = hash(home_team) % 10000
away_team_id = hash(away_team) % 10000
```

### 2. –§–∏–∫—Å–∏—Ä–∞–Ω–∏ default —Å—Ç–æ–π–Ω–æ—Å—Ç–∏
```python
# api/prediction_service.py:179-187
home_data = self.elo_ratings.get(home_team, {
    'elo': 1500, 'form': 0, 'goals_avg': 1.5,
    'xg_proxy': 1.5, 'shooting_efficiency': 0.3
})
```

### 3. –ü–æ–ø—ä–ª–≤–∞–Ω–µ —Å –Ω—É–ª–∏
```python
# api/prediction_service.py:225-228
for col in self.feature_columns:
    if col not in features:
        features[col] = 0.0
```

## üéØ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏ —Ä–µ—à–µ–Ω–∏—è

### 1. –ò–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ç–Ω–æ —Ç—ä—Ä—Å–µ–Ω–µ –Ω–∞ –æ—Ç–±–æ—Ä–∏
- Fuzzy matching –∑–∞ –∏–º–µ–Ω–∞ –Ω–∞ –æ—Ç–±–æ—Ä–∏
- –ê–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏ –∏–º–µ–Ω–∞ –∏ —Å–∏–Ω–æ–Ω–∏–º–∏
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∑–∞ –Ω–µ–ø–æ–∑–Ω–∞—Ç–∏ –æ—Ç–±–æ—Ä–∏

### 2. –õ–∏–≥–æ–≤–æ-–±–∞–∑–∏—Ä–∞–Ω–∏ default —Å—Ç–æ–π–Ω–æ—Å—Ç–∏
- –†–∞–∑–ª–∏—á–Ω–∏ default —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ —Å–ø–æ—Ä–µ–¥ –ª–∏–≥–∞—Ç–∞
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ —Å—Ä–µ–¥–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ –ø–æ –ª–∏–≥–∞
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∏ Elo ratings

### 3. Confidence scoring
- –ù–∏—Å–∫–∞ —É–≤–µ—Ä–µ–Ω–æ—Å—Ç –∑–∞ –Ω–µ–ø–æ–∑–Ω–∞—Ç–∏ –æ—Ç–±–æ—Ä–∏
- –Ø—Å–Ω–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –æ—Ç–≥–æ–≤–æ—Ä–∞
- –ü—Ä–µ–ø–æ—Ä—ä–∫–∏ –∑–∞ –ø–æ-–¥–æ–±—Ä–∏ –¥–∞–Ω–Ω–∏

### 4. Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –ø–æ–¥–æ–±–Ω–∏ –æ—Ç–±–æ—Ä–∏
- –†–µ–≥–∏–æ–Ω–∞–ª–Ω–∏/–ª–∏–≥–æ–≤–∏ –∞–Ω–∞–ª–æ–≥–∏–∏
- –ì—Ä–∞–¥—É–∞–ª–Ω–æ –æ–±—É—á–µ–Ω–∏–µ –æ—Ç –Ω–æ–≤–∏ –¥–∞–Ω–Ω–∏

## ‚úÖ –ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–æ —Ä–µ—à–µ–Ω–∏–µ

### üîß –ù–æ–≤–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:

**1. `TeamResolver` –∫–ª–∞—Å (`core/team_resolver.py`)**
- –ò–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ç–Ω–æ —Ç—ä—Ä—Å–µ–Ω–µ –Ω–∞ –æ—Ç–±–æ—Ä–∏ (exact, fuzzy, partial matching)
- –õ–∏–≥–æ–≤–æ-–±–∞–∑–∏—Ä–∞–Ω–∏ default —Å—Ç–æ–π–Ω–æ—Å—Ç–∏
- Confidence scoring –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ

**2. `ImprovedPredictionService` (`api/improved_prediction_service.py`)**
- –ò–∑–ø–æ–ª–∑–≤–∞ TeamResolver –∑–∞ –ø–æ-–¥–æ–±—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –æ—Ç–±–æ—Ä–∏
- –í—Ä—ä—â–∞ –ø–æ–¥—Ä–æ–±–Ω–∞ metadata –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ
- –Ø—Å–Ω–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –ø—Ä–µ–ø–æ—Ä—ä–∫–∏

**3. –ù–æ–≤ API endpoint: `/predict/improved`**
- –°—ä—â–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –∫–∞—Ç–æ `/predict`
- –ü–ª—é—Å –ø–æ–¥—Ä–æ–±–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ confidence
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∑–∞ –Ω–µ–ø–æ–∑–Ω–∞—Ç–∏ –æ—Ç–±–æ—Ä–∏

### üìä –†–µ–∑—É–ª—Ç–∞—Ç–∏:

**–ó–∞ –Ω–µ–ø–æ–∑–Ω–∞—Ç–∏ –æ—Ç–±–æ—Ä–∏:**
```json
{
  "data_quality": {
    "overall_confidence": 0.0,
    "confidence_level": "Very Low",
    "warnings": [
      "–û—Ç–±–æ—Ä—ä—Ç 'Unknown Team' –Ω–µ –µ –Ω–∞–º–µ—Ä–µ–Ω –≤ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏",
      "–ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ hash ID –∑–∞ –Ω–µ–ø–æ–∑–Ω–∞—Ç –æ—Ç–±–æ—Ä"
    ],
    "recommendation": "–ü—Ä–æ–≥–Ω–æ–∑–∞—Ç–∞ –µ –±–∞–∑–∏—Ä–∞–Ω–∞ –Ω–∞ default —Å—Ç–æ–π–Ω–æ—Å—Ç–∏"
  }
}
```

**–ó–∞ –ø–æ–∑–Ω–∞—Ç–∏ –æ—Ç–±–æ—Ä–∏:**
```json
{
  "data_quality": {
    "overall_confidence": 1.0,
    "confidence_level": "High",
    "warnings": [],
    "recommendation": "–ü—Ä–æ–≥–Ω–æ–∑–∞—Ç–∞ –µ –±–∞–∑–∏—Ä–∞–Ω–∞ –Ω–∞ –ø—ä–ª–Ω–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –¥–∞–Ω–Ω–∏"
  }
}
```

## üìä –û—á–∞–∫–≤–∞–Ω–∏ –ø–æ–¥–æ–±—Ä–µ–Ω–∏—è

- ‚úÖ –ü–æ-—Ç–æ—á–Ω–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏ –∑–∞ –Ω–æ–≤–∏ –æ—Ç–±–æ—Ä–∏
- ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ
- ‚úÖ –ù–∞–º–∞–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç —Ñ–∏–∫—Ç–∏–≤–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–æ-–¥–æ–±—Ä–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∏—Ä–∞–Ω–æ—Å—Ç
